{"version":3,"names":[],"mappings":"","sources":["ed-ui.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.edUi = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _modal = require(\"./modal\");\n\nvar _vimeoModal = require(\"./vimeoModal\");\n\nvar _youtubeModal = require(\"./youtubeModal\");\n\nvar _tabs = require(\"./tabs\");\n\n// Exportar objetos al ambito global para reutilizarlos en otras librerias\n// No es la mejor forma pero funciona hasta encontrar un mejor modo\n// Idea sacada de http://www.mattburkedev.com/export-a-global-to-the-window-object-with-browserify/\n\nvar eduiGlobal = true;\n\nif (eduiGlobal) {\n  window.edModal = _modal.edModal;\n  window.openYouTubeModal = _youtubeModal.openYouTubeModal;\n  window.openVimeoModal = _vimeoModal.openVimeoModal;\n  window.edTabs = _tabs.edTabs;\n}\n\n},{\"./modal\":3,\"./tabs\":4,\"./vimeoModal\":5,\"./youtubeModal\":6}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Crear elementos con atributos e hijo\nvar createCustomElement = exports.createCustomElement = function createCustomElement(element, attributes, children) {\n  var customElement = document.createElement(element);\n  if (children !== undefined) children.forEach(function (el) {\n    if (el.nodeType) {\n      if (el.nodeType === 1 || el.nodeType === 11) customElement.appendChild(el);\n    } else {\n      customElement.innerHTML += el;\n    }\n  });\n  addAttributes(customElement, attributes);\n  return customElement;\n};\n\n// Añadir un objeto de atributos a un elemento\nvar addAttributes = exports.addAttributes = function addAttributes(element, attrObj) {\n  for (var attr in attrObj) {\n    if (attrObj.hasOwnProperty(attr)) element.setAttribute(attr, attrObj[attr]);\n  }\n};\n\n// Envolver un elemento con otro\nvar wrap = exports.wrap = function wrap(selector, wrapElementType, attributesObj) {\n  var element = getElement(selector),\n      nextSibling = element.nextElementSibling,\n      parent = element.parentElement,\n      wrapElement = createCustomElement(wrapElementType, attributesObj, element);\n\n  nextSibling ? parent.insertBefore(wrapElement, nextSibling) : parent.appendChild(wrapElement);\n\n  return wrapElement;\n};\n\n// Retornar un elemento del DOM (revisar)\nvar getElement = exports.getElement = function getElement(elementOrSelector) {\n  var e = void 0,\n      g = void 0;\n  if (elementOrSelector.nodeType === 1) {\n    e = elementOrSelector;\n  } else {\n    g = document.querySelector(elementOrSelector);\n    if (document.querySelector(g)) {\n      e = document.querySelector(g);\n    } else {\n      e = document.createElement('div');\n      console.error('Function getElement() requires a DOM element\\n    or a valid selector. It has been created a placeholder element to avoid\\n    execution errors, please fixed as soon as posible');\n    }\n  }\n  return e;\n};\n\n// Media queries\nvar mediaQuery = function mediaQuery(breakpoint, cb) {\n  var isChangeSize = function isChangeSize(mql) {\n    return cb(mql.matches);\n  };\n  breakpoint.addListener(isChangeSize);\n  isChangeSize(breakpoint);\n};\n\n// From (EDgrid equivalent)\n// cb receive a boolean argument from mediaQuery() function\nvar from = function from(breakpoint, cb) {\n  var bp = window.matchMedia('(min-width: ' + breakpoint + ')');\n  mediaQuery(bp, cb);\n};\n\n// To (EDgrid equivalent)\n// cb receive a boolean argument from mediaQuery() function\nvar to = function to(breakpoint, cb) {\n  var bp = window.matchMedia('(max-width: ' + breakpoint + ')');\n  mediaQuery(bp, cb);\n};\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.edModal = undefined;\n\nvar _helpers = require(\"./helpers\");\n\n// Crear e imprimir modal\nvar edModal = exports.edModal = function edModal(content) {\n  var modalContentEl = (0, _helpers.createCustomElement)('div', {\n    id: \"ed-modal-content\",\n    class: \"ed-modal-content\"\n  }, [content]),\n      modalEl = (0, _helpers.createCustomElement)('div', {\n    id: \"ed-modal-container\",\n    class: \"ed-modal-container\"\n  }, [modalContentEl]);\n\n  // Imprimir modal\n  document.body.appendChild(modalEl);\n\n  // Remover modal\n  var removeModal = function removeModal() {\n    return document.body.removeChild(modalEl);\n  };\n\n  // cerrar modal con click\n  modalEl.addEventListener('click', function (e) {\n    if (e.target === modalEl) removeModal();\n  });\n\n  // cerrar modal con escape\n  var offCloseModalEsc = function offCloseModalEsc() {\n    return removeEventListener('keyup', closeModalEsc);\n  };\n  var closeModalEsc = function closeModalEsc(e) {\n    if (e.key === \"Escape\") {\n      removeModal();\n      offCloseModalEsc();\n    }\n  };\n  addEventListener('keyup', closeModalEsc);\n};\n\n},{\"./helpers\":2}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar edTabs = exports.edTabs = function edTabs() {\n  var container = document.querySelector('.edui-tabs'),\n      tabsContainer = container.querySelector('.tabs'),\n      panelsContainer = container.querySelector('.panels'),\n      tabs = [].concat(_toConsumableArray(tabsContainer.querySelectorAll('.tab'))),\n      panels = [].concat(_toConsumableArray(panelsContainer.querySelectorAll('.panel')));\n\n  tabs[0].classList.add('active');\n  panels[0].classList.add('active');\n\n  tabsContainer.addEventListener('click', function (e) {\n    var t = e.target,\n        i = tabs.indexOf(t);\n    if (e.target.classList.contains('tab')) {\n      tabs.map(function (tab) {\n        return tab.classList.remove('active');\n      });\n      panels.map(function (panel) {\n        return panel.classList.remove('active');\n      });\n      t.classList.add('active');\n      panels[i].classList.add('active');\n    }\n  });\n};\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openVimeoModal = undefined;\n\nvar _modal = require('./modal');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar createVimeoModalContent = function createVimeoModalContent(vimeoCode) {\n  return '<div class=\"video\">\\n  <iframe src=\"https://player.vimeo.com/video/' + vimeoCode + '?autoplay=1\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\\n</div>';\n};\n\nvar getVimeoCode = function getVimeoCode(url) {\n  return url.slice('https://vimeo.com/'.length);\n};\n\n// Evento para abrir los modales en todos los links\nvar openVimeoModal = exports.openVimeoModal = function openVimeoModal(selector) {\n  var linksElements = [].concat(_toConsumableArray(document.querySelectorAll(selector))),\n      links = linksElements.map(function (link) {\n    return link.href;\n  });\n\n  linksElements.forEach(function (el, i) {\n    el.addEventListener('click', function (e) {\n      e.preventDefault();\n      (0, _modal.edModal)(createVimeoModalContent(getVimeoCode(links[i])));\n    });\n  });\n};\n\n},{\"./modal\":3}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openYouTubeModal = undefined;\n\nvar _modal = require('./modal');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Obtener el código del video y los parámetros adicionales\nvar getYoutTubeVideoCode = function getYoutTubeVideoCode(url) {\n  var inicio = url.indexOf('?') + 3,\n      final = url.indexOf('&', inicio),\n      code = final === -1 ? url.slice(inicio) : url.slice(inicio, final),\n      params = url.slice(final + 1);\n  return final === -1 ? code + '?' : code + '?' + params + '&';\n};\n\n// Crear contenido del modal\nvar createYouTubeModalContent = function createYouTubeModalContent(youTubeVideoCode) {\n  return '<div class=\"video\">\\n    <iframe src=\"https://www.youtube.com/embed/' + youTubeVideoCode + 'autoplay=1\" frameborder=\"0\" allowfullscreen></iframe>\\n</div>';\n};\n\n// Eventos para abrir los modales en todos los links\nvar openYouTubeModal = exports.openYouTubeModal = function openYouTubeModal(selector) {\n  var linksElements = [].concat(_toConsumableArray(document.querySelectorAll(selector))),\n      links = linksElements.map(function (link) {\n    return link.href;\n  });\n  linksElements.forEach(function (el, i) {\n    el.addEventListener('click', function (e) {\n      e.preventDefault();\n      (0, _modal.edModal)(createYouTubeModalContent(getYoutTubeVideoCode(links[i])));\n    });\n  });\n};\n\n},{\"./modal\":3}]},{},[1])(1)\n});"],"file":"ed-ui.js"}